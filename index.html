<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Matrix Verde e Vermelha</title>
  <!-- Font Awesome para √≠cones -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <style>
    :root { --accent: #0F0; } /* usado pelo chat para acompanhar a cor atual */

    body {
      margin: 0;
      background: black;
      overflow: hidden;
      font-family: monospace;
    }
    canvas {
      display: block;
    }

    /* Bot√µes no topo central */
    #music-btn, #next-btn {
      position: fixed;
      top: 15px;
      padding: 10px 20px;
      border: 2px solid #0F0;
      color: #0F0;
      font-family: monospace;
      font-size: 16px;
      font-weight: bold;
      cursor: pointer;
      border-radius: 8px;
      background: rgba(0, 255, 0, 0.15);
      transition: all 0.3s ease-in-out;
      z-index: 1000;
      text-shadow: 0 0 8px #0F0;
    }
    #music-btn:hover, #next-btn:hover {
      background: rgba(0, 255, 0, 0.3);
    }
    #music-btn { left: 50%; transform: translateX(-110%); }
    #next-btn { left: 50%; transform: translateX(10%); }

    /* Painel lateral de links */
    #links-panel {
      position: fixed;
      top: 50%;
      right: 20px;
      transform: translateY(-50%); /* centraliza verticalmente */
      display: flex;
      flex-direction: column;
      gap: 10px;
      z-index: 1000;
    }
    #links-panel a {
      color: #0F0;
      text-decoration: none;
      font-size: 14px;
      border: 1px solid #0F0;
      padding: 8px 12px;
      border-radius: 6px;
      background: rgba(0, 255, 0, 0.15);
      transition: all 0.3s;
      text-align: center;
      text-shadow: 0 0 6px #0F0;
      display: flex;
      align-items: center;
      gap: 8px; /* espa√ßo entre √≠cone e texto */
      justify-content: center;
    }
    #links-panel a:hover {
      background: rgba(0, 255, 0, 0.3);
      color: #FFF;
    }

    /* ===== Chat sobreposto (mant√©m seu layout, s√≥ adiciona isso) ===== */
    #chat-box{
      position: fixed;
      left: 20px;
      bottom: 20px;
      width: 360px;
      max-width: calc(100vw - 40px);
      height: 260px;
      background: rgba(0,0,0,0.45);
      border: 1px solid var(--accent);
      border-radius: 8px;
      overflow: hidden;
      z-index: 1000;
      backdrop-filter: blur(2px);
    }
    #chat-header{
      padding: 6px 10px;
      font-weight: bold;
      font-size: 14px;
      color: var(--accent);
      border-bottom: 1px solid color-mix(in srgb, var(--accent) 40%, transparent);
      text-shadow: 0 0 6px var(--accent);
      display:flex; align-items:center; gap:8px;
    }
    #chat-messages{
      height: calc(100% - 30px);
      padding: 8px;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
      gap: 6px;
    }
    .msg{
      background: rgba(15,22,32,0.6);
      border: 1px solid color-mix(in srgb, var(--accent) 35%, transparent);
      border-radius: 6px;
      padding: 6px 8px;
      line-height: 1.35;
      color: #dfffdc;
      opacity: 0; transform: translateY(4px);
      animation: chatIn .18s ease forwards;
    }
    @keyframes chatIn { to { opacity: 1; transform: translateY(0);} }
  </style>
</head>
<body>
  <canvas id="matrix"></canvas>

  <!-- M√∫sica de fundo -->
  <audio id="bg-music"></audio>

  <!-- Bot√µes -->
  <button id="music-btn">‚ñ∂ M√∫sica</button>
  <button id="next-btn">‚è≠ Pular</button>

  <!-- Painel de Links -->
  <div id="links-panel">
    <a href="https://www.youtube.com/@SmashezLive" target="_blank"><i class="fab fa-youtube"></i> YouTube</a>
    <a href="https://x.com/Smaashez" target="_blank"><i class="fab fa-x-twitter"></i> Twitter</a>
    <a href="https://twitch.tv/smaashez" target="_blank"><i class="fab fa-twitch"></i> Twitch</a>
    <a href="https://kick.com/smashez" target="_blank"><i class="fas fa-gamepad"></i> Kick</a>
  </div>

  <!-- Chat sobreposto -->
  <div id="chat-box" aria-live="polite" aria-atomic="false">
    <div id="chat-header"><i class="fa-solid fa-terminal"></i> Chat</div>
    <div id="chat-messages"></div>
  </div>

  <script>
    const canvas = document.getElementById("matrix");
    const ctx = canvas.getContext("2d");

    const letters = "01ABCDEFGHIJKLMNOPQRSTUVXYZ@#$%&*";
    const fontSize = 16;
    let columns, drops;

    let color = "#0F0"; // come√ßa verde

    function resizeCanvas() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;

      columns = Math.floor(canvas.width / fontSize);
      drops = [];
      for (let x = 0; x < columns; x++) {
        drops[x] = 1;
      }
    }

    resizeCanvas();
    window.addEventListener("resize", resizeCanvas);

    let lastTime = 0;
    let speed = 50; // controla a velocidade da Matrix

    function draw(now) {
      if (now - lastTime > speed) {
        ctx.fillStyle = "rgba(0, 0, 0, 0.05)";
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        ctx.fillStyle = color;
        ctx.font = fontSize + "px monospace";

        for (let i = 0; i < drops.length; i++) {
          const text = letters.charAt(Math.floor(Math.random() * letters.length));
          ctx.fillText(text, i * fontSize, drops[i] * fontSize);

          if (drops[i] * fontSize > canvas.height && Math.random() > 0.975) {
            drops[i] = 0;
          }
          drops[i]++;
        }
        lastTime = now;
      }
      requestAnimationFrame(draw);
    }
    requestAnimationFrame(draw);

    // === Alterna a cor a cada X segundos ===
    const segundos = 50;
    const btn = document.getElementById("music-btn");

    setInterval(() => {
      if (color === "#0F0") {
        color = "#F00"; // vermelho
        btn.style.color = "#F00";
        btn.style.borderColor = "#F00";
        btn.style.textShadow = "0 0 8px #F00";
        btn.style.background = "rgba(255, 0, 0, 0.15)";
        document.querySelectorAll("#links-panel a").forEach(a=>{
          a.style.color = "#F00";
          a.style.borderColor = "#F00";
          a.style.textShadow = "0 0 6px #F00";
          a.style.background = "rgba(255, 0, 0, 0.15)";
        });
        document.getElementById("next-btn").style.color = "#F00";
        document.getElementById("next-btn").style.borderColor = "#F00";
        document.getElementById("next-btn").style.textShadow = "0 0 8px #F00";
        document.getElementById("next-btn").style.background = "rgba(255, 0, 0, 0.15)";
      } else {
        color = "#0F0"; // verde
        btn.style.color = "#0F0";
        btn.style.borderColor = "#0F0";
        btn.style.textShadow = "0 0 8px #0F0";
        btn.style.background = "rgba(0, 255, 0, 0.15)";
        document.querySelectorAll("#links-panel a").forEach(a=>{
          a.style.color = "#0F0";
          a.style.borderColor = "#0F0";
          a.style.textShadow = "0 0 6px #0F0";
          a.style.background = "rgba(0, 255, 0, 0.15)";
        });
        document.getElementById("next-btn").style.color = "#0F0";
        document.getElementById("next-btn").style.borderColor = "#0F0";
        document.getElementById("next-btn").style.textShadow = "0 0 8px #0F0";
        document.getElementById("next-btn").style.background = "rgba(0, 255, 0, 0.15)";
      }
      /* Atualiza a cor do chat via CSS var (mant√©m seu estilo, s√≥ acompanha a cor) */
      document.documentElement.style.setProperty('--accent', color);
    }, segundos * 1000);

    // === PLAYLIST ===
    const playlist = [
      "musica1.mp3",
      "musica2.mp3",
      "musica3.mp3"
      "musica4.mp3"
      "musica5.mp3"
      "musica6.mp3"
    ];
    let currentTrack = 0;
    const player = document.getElementById("bg-music");
    const nextBtn = document.getElementById("next-btn");

    // Carrega a primeira m√∫sica
    player.src = playlist[currentTrack];

    let playing = false;

    // Play / Pause
    btn.addEventListener("click", () => {
      if (!playing) {
        player.play();
        btn.textContent = "‚è∏ M√∫sica";
        playing = true;
      } else {
        player.pause();
        btn.textContent = "‚ñ∂ M√∫sica";
        playing = false;
      }
    });

    // Pular m√∫sica
    function nextTrack() {
      currentTrack++;
      if (currentTrack >= playlist.length) {
        currentTrack = 0;
      }
      player.src = playlist[currentTrack];
      if (playing) {
        player.play();
      }
    }
    nextBtn.addEventListener("click", nextTrack);

    // Quando terminar, toca a pr√≥xima
    player.addEventListener("ended", nextTrack);

    /* ====== CHAT AUTOM√ÅTICO (seu script + mais falas) ====== */
    const mensagens = [
      "<b>Neo:</b> Estou dentro da Matrix...",
      "<b>Trinity:</b> Siga-me!",
      "<b>Morpheus:</b> A p√≠lula vermelha ou azul?",
      "<b>Agente Smith:</b> Sr. Anderson...",
      "<b>Oracle:</b> Tudo tem um prop√≥sito.",
      "<b>Veganos:</b> Gostei da m√∫sica, qual o nome?",
      "<b>Silva:</b> V√£o jogar hoje?",
      "<b>Ju:</b> Tu viu aquela not√≠cia Maths?",
      "<b>Ju:</b> Vou te mandar pelo LivePix",
      "<b>Muka:</b> Essa queda de c√≥digo t√° insana üòÇ",
      "<b>Kaelira:</b> Parece at√© live do Neo!",
      "<b>Trinity:</b> Confie em mim.",
      "<b>Eduarda:</b> Smashez seu Lindo vem jogar cmg",
      "<b>Morpheus:</b> Eu s√≥ posso te mostrar a porta...",
      "<b>Douglinhas:</b> Mano, essa m√∫sica √© braba üî•",
      "<b>NEGAN:</b> Voc√™s viram a atualiza√ß√£o nova?",
      "<b>Agente Smith:</b> A humanidade √© um v√≠rus.",
      "<b>Neo:</b> Eu sei kung fu.",
      "<b>Trinity:</b> Acredite no imposs√≠vel.",
      "<b>Morpheus:</b> A Matrix √© um sistema.",
      "<b>marcolaFPS:</b> T√° parecendo um filme isso aqui üòÇ",
      "<b>Lucasmacho:</b> Que vibe, mano!",
      "<b>Oracle:</b> O futuro n√£o est√° escrito.",
      "<b>LordGx:</b> Bora rankear mais tarde?",
      "<b>Agente Smith:</b> √â inevit√°vel.",
      "<b>Neo:</b> N√£o estou aqui para lutar com voc√™.",
      "<b>BrunaS2:</b> Esse chat t√° muito bom kkk",
      "<b>SophiaTk:</b> Algu√©m manda o link da m√∫sica a√≠!"
    ];

    const mensagensLoop = [
      "<b>Fuscona:</b> quero tomar pirula vermelha ",
      "<b>mingal :</b> tem gente da matrix no chat üòÇ",
      "<b>senseidasarmas:</b> manda salve salve "
    ];

    const chatBox = document.getElementById("chat-messages");
    let index = 0;
    let loopIndex = 0;

    function addMensagem() {
      const msg = document.createElement("div");
      msg.classList.add("msg");

      if (index < mensagens.length) {
        msg.innerHTML = mensagens[index];
        index++;
      } else {
        msg.innerHTML = mensagensLoop[loopIndex];
        loopIndex++;
        if (loopIndex >= mensagensLoop.length) {
          loopIndex = 0; // reinicia o loop
        }
      }

      chatBox.appendChild(msg);
      chatBox.scrollTop = chatBox.scrollHeight; // rola pra baixo
    }

    // adiciona uma mensagem a cada 5 segundos
    setInterval(addMensagem, 5000);
  </script>
</body>
</html>
